/**
 * @copyright 2006-2013, Miles Johnson - http://milesj.me
 * @license   http://opensource.org/licenses/mit-license.php
 * @link      http://milesj.me/code/javascript/joop
 */
!function(){"use strict";function a(a,b){var c="function"==typeof a,d="function"==typeof b;return c?!(d&&(b.$private||a.$protected)):!0}function b(a,b,c){return function(){this.$caller=a,this.$super=b;var d=c.apply(this,arguments);return delete this.$caller,delete this.$super,d}}var c=Function.prototype;c.protected=function(){return this.$protected=!0,this},c.private=function(){return this.$private=!0,this},c.memoize=function(){var a=this,b=null;return function(){return b?b:b=a.apply(this,arguments)}},c.deprecate=function(a){var b=this,c=!1;return function(){return!c&&console&&(console.warn("This method is deprecated. "+a+"\n"+new Error(a).stack),c=!0),b.apply(this,arguments)}},c.overload=function(a){var b=this;return function(c,d){if("object"==typeof c)for(var e in c)(!a||c.hasOwnProperty(e))&&b.call(this,e,c[e]);else c&&b.call(this,c,d);return this}},c.extend=function(b,c){return a(this[b],c)&&(this[b]=c),this}.overload(),c.implement=function(b,c){return a(this.prototype[b],c)&&(this.prototype[b]=c),this}.overload();var d=!1,e=function(){};e.implement("parent",function(){if(!this.$caller||!this.$super)throw new Error("The method parent() cannot be called in this context");return this.$super.apply(this,arguments)}.protected()),e.extend("create",function(a,c){function e(){this.init&&!d&&this.init.apply(this,arguments)}d=!0;var f=new this;d=!1,f.$namespace&&(a=f.$namespace+"."+a),e.implement(f);var g,h,i;for(h in c)if(c.hasOwnProperty(h)){if(g=e.prototype[h],i=c[h],g&&"function"==typeof g&&"function"==typeof i){if(g.$protected||i.$private)continue;i=b(h,g,i)}e.implement(h,i)}return e.implement({$namespace:a,$parent:f}),e.create=this.create,e}),this.Class=e}();
/**
 * @copyright   2006-2013, Miles Johnson - http://milesj.me
 * @license     http://opensource.org/licenses/mit-license.php
 * @link        http://milesj.me/code/javascript/joop
 */
(function(){"use strict";function a(a,b){var c="function"==typeof a,d="function"==typeof b;return c?!(d&&(b.$private||a.$protected)):d?!b.$private:!0}function b(a,b,c){return function(){this.$caller=a,this.$super=b;var d=c.apply(this,arguments);return delete this.$caller,delete this.$super,d}}function c(a){var b,c,d;for(b in a)c=a[b],d=typeOf(c),"array"===d?a[b]=Array.clone(c):"object"===d&&(a[b]=Object.clone(c))}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&a.extend(c,b[c])}function e(c,d){var e,f,g,h,i;for(f in d)if(d.hasOwnProperty(f)){if(g=d[f],i=typeOf(g),h="function"===i&&g.$static,e=h?c[f]:c.prototype[f],e&&!h&&"function"==typeof e&&"function"===i){if(e.$protected)continue;g=b(f,e,g)}a(e,g)&&(h?c.extend(f,g):c.implement(f,g))}}Function.implement({"static":function(){return this.$static=!0,this},protect:function(){return this.$protected=!0,this},"private":function(){return this.$private=!0,this},hint:function(a){var b=this;return function(){for(var c,d,e,f,g,h=0,i=a.length;i>h;h++)if(c=arguments[h],e=a[h],f=!1,d=typeOf(c),g=e,"null"!==d&&null!==e&&null!==c){switch(e){case"arr":case"array":f="array"!==d;break;case"obj":case"object":f="object"!==d;break;case"str":case"string":f="string"!==d;break;case"int":case"integer":case"num":case"number":f="number"!==d;break;case"bool":case"boolean":f="boolean"!==d;break;case"fn":case"func":case"function":f="function"!==d;break;case"regex":case"regexp":f="regexp"!==d;break;default:"string"==typeof e?f=c.className()!==e:(f=!e.prototype.isPrototypeOf(c),g=(new e).className())}if(f)throw new Error("Argument "+h+" must be of type "+g)}return b.apply(this,arguments)}.extend("$hints",a)},memoize:function(){var a=this,b=null;return function(){return b?b:b=a.apply(this,arguments)}},deprecate:function(a){var b=this,c=!1;return function(){return!c&&isDefined(console)&&(console.warn("This method is deprecated. "+a+"\n"+new Error(a).stack),c=!0),b.apply(this,arguments)}.extend("$deprecated",a)}});var f=!1,g=function(){};g.implement({parent:function(){if(!this.$caller||!this.$super)throw new Error("The method parent() cannot be called in this context");return this.$super.apply(this,arguments)}.protect(),className:function(){return(this.$namespace?this.$namespace+".":"")+this.$class}.protect()}),g.extend("create",function(a,b){function g(){c(this),this.init&&!f&&this.init.apply(this,arguments)}f=!0;var h=new this;f=!1,g.prototype=h,g.prototype.constructor=g,d(g,this),e(g,b);var i=[];return h.$namespace&&i.push(h.$namespace),h.$class&&i.push(h.$class),g.implement({$namespace:i.join("."),$class:a}),g}),this.Class=g}).call(this);